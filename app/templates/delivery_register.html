{% extends "delivery_base.html" %}

{% block title %}Rider Registration{% endblock %}

{% block content %}
<div class="login-container" style="max-width: 500px;">
    <h2>Create Rider Account</h2>
    <p style="text-align: center; margin-bottom: 1rem;">Register as a new delivery rider.</p>
    <p style="text-align: center; color: #d9534f; font-weight: bold;">(All document uploads are required for admin approval.)</p>
    
    <form method="POST" action="{{ url_for('delivery_register') }}" novalidate enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.name.label }}
            {{ form.name(class="form-control", placeholder="e.g., Juan Dela Cruz") }}
            {% for error in form.name.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>
        
        <div class="form-group">
            {{ form.contact_number.label }}
            {{ form.contact_number(class="form-control", placeholder="e.g., 09123456789", type="tel", maxlength="11") }}
            {% for error in form.contact_number.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>
        
        <div class="form-group">
            {{ form.birthdate.label }}
            {{ form.birthdate(class="form-control", type="date") }}
            <p style="font-size: 0.9em; color: #555;">Used for age verification (must be 18+).</p>
            {% for error in form.birthdate.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="form-group">
            {{ form.email.label }}
            {{ form.email(class="form-control", placeholder="e.g., juan@example.com") }}
            {% for error in form.email.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <hr>
        <h3>Document Uploads (2MB Max per file)</h3>
        
        <div class="form-group">
            {{ form.license_file.label }}
            {{ form.license_file(class="form-control") }}
            {% for error in form.license_file.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="form-group">
            {{ form.govt_id_file.label }}
            {{ form.govt_id_file(class="form-control") }}
            {% for error in form.govt_id_file.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="form-group">
            {{ form.or_cr_file.label }}
            {{ form.or_cr_file(class="form-control") }}
            {% for error in form.or_cr_file.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="form-group">
            {{ form.nbi_clearance_file.label }}
            {{ form.nbi_clearance_file(class="form-control") }}
            {% for error in form.nbi_clearance_file.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>
        
        <hr>

        <div class="form-group">
            {{ form.password.label }}
            {{ form.password(class="form-control", id="password_field") }}
            {% for error in form.password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>
        
        <div class="form-group">
            {{ form.confirm_password.label }}
            {{ form.confirm_password(class="form-control", id="confirm_password_field") }}
            {% for error in form.confirm_password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>
</div>

<div class="form-switch-link" style="max-width: 400px; margin: 2rem auto;">
    <span>Already have an account?</span>
    <a href="{{ url_for('delivery_login') }}" class="btn btn-secondary" style="margin-top: 1rem;">Log In</a>
</div>
{% endblock %}